///////////////////////////////////////////////////////////////////////////////
// Dependencies
///////////////////////////////////////////////////////////////////////////////
#include "Core/Audio/Divider.hpp"

///////////////////////////////////////////////////////////////////////////////
// Namespace NES::Audio
///////////////////////////////////////////////////////////////////////////////
namespace NES::Audio
{

///////////////////////////////////////////////////////////////////////////////
Divider::Divider(int period)
    : m_period(period)
    , m_counter(0)
{}

///////////////////////////////////////////////////////////////////////////////
void Divider::Reset(void)
{
    m_counter = m_period;
}

///////////////////////////////////////////////////////////////////////////////
bool Divider::Clock(void)
{
    if (m_counter == 0)
    {
        m_counter = m_period;
        return (true);
    }
    else
    {
        --m_counter;
        return (false);
    }
}

///////////////////////////////////////////////////////////////////////////////
void Divider::SetPeriod(int period)
{
    m_period = period;
}

///////////////////////////////////////////////////////////////////////////////
int Divider::GetPeriod(void) const
{
    return (m_period);
}

} // !namespace NES::Audio
