///////////////////////////////////////////////////////////////////////////////
// Header guard
///////////////////////////////////////////////////////////////////////////////
#pragma once

///////////////////////////////////////////////////////////////////////////////
// Dependencies
///////////////////////////////////////////////////////////////////////////////
#include "Core/Shared/Bus.hpp"
#include "Core/Picture/PPU.hpp"
#include "Core/Audio/APU.hpp"
#include "Core/Controller.hpp"

///////////////////////////////////////////////////////////////////////////////
// Namespace NES
///////////////////////////////////////////////////////////////////////////////
namespace NES
{

///////////////////////////////////////////////////////////////////////////////
/// \brief Main bus for the NES
///
/// This class represents the main bus of the NES, which handles communication
/// between the CPU, PPU, APU, and other components. It defines the
/// memory-mapped registers used by the NES system.
///
///////////////////////////////////////////////////////////////////////////////
class MainBus : public Bus
{
public:
    ///////////////////////////////////////////////////////////////////////////
    /// \brief Enumeration of memory-mapped registers
    ///
    ///////////////////////////////////////////////////////////////////////////
    enum class Register
    {
        PPU_CTRL = 0x2000,
        PPU_MASK = 0x2001,
        PPU_STATUS = 0x2002,
        OAM_ADDR = 0x2003,
        OAM_DATA = 0x2004,
        PPU_SCROLL = 0x2005,
        PPU_ADDR = 0x2006,
        PPU_DATA = 0x2007,
        APU_REGISTER_START = 0x4000,
        APU_REGISTER_END = 0x4013,
        OAM_DMA = 0x4014,
        APU_CONTROL_AND_STATUS = 0x4015,
        JOY1 = 0x4016,
        JOY2_AND_FRAME_CONTROL = 0x4017
    };
};

} // !namespace NES
